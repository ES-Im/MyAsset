# MyAsset 기능 요구사항(FR)

## 1. MyAsset
***
`MyAsset`은 개인의 금융 및 비금융 자산을 통합 관리하는 서비스이다.

## 2. **사용자**
***
### 2-1. 사용자 등록

    a. MyAsset을 이용하기 위해서는 사용자로 등록해야 한다.    

    b. OAuth를 통해서만 회원가입 및 로그인을 할 수 있다.

    c. 회원 등록 전 이용자는 샘플화면(데모 모드)로 서비스 체험을 할 수 있다.
        - 데모 모드 : 샘플 자산 데이터를 기반으로 사용자가 기능을 "체험"할 수 있어야한다.
           
### 2-2. 사용자 정보 관리

    a. 소셜 회원가입 유저의 비밀번호는 별도 보관하지 않는다.

    b. 소셜 회원가입 유저는 개인정보 수정이 불가능하다.

### 2-3. 사용자 상태

    a. 사용자 상태는 다음으로 분류한다.
        - 활성화
        - 휴먼상태
        - 탈퇴요청
        - 탈퇴

    b. 활성화 
        - 사용자 등록 직후 별도의 승인과정 없이 계정이 활성화 된다.

    c. 휴먼상태
        - 마지막 로그인 이후 1년간 이용하지 않으면 휴먼상태로 전환된다.
        - 로그인이 제한되며, 복구를 통해 활성화를 할 수 있다.

    d. 탈퇴 요청
        - 사용자가 탈퇴 요청 시 즉시 탈퇴 요청 상태로 전환된다.
        - 탈퇴 요청 기간은 30일동안 유지되며, 30일이 지나면 '탈퇴'상태로 전환된다.
        - 탈퇴 요청 기간에는 사용자에 대한 모든 정보가 보관된다.

    e. 탈퇴
        - 탈퇴 요청 시점 이후 30일이 경과하면 계정은 '탈퇴'상태로 전환된다.
        - 탈퇴 전환 시점에 '로그관리' 목차에 따라 사용자의 정보/기록이 변경/삭제된다.
        - 탈퇴 상태는 이후 60일간 유지된다.

    f. 복구요청
        - 사용자는 다음 두 상태에서 계정 복구를 요청할 수 있다.
          · 휴먼상태일 경우
          · 탈퇴요청 상태
        - 복구요청 절차는 아래와 같다. 
            1) 로그인/회원등록 버튼 → 간편인증 1회
            2) 상태에 따라 복구 안내 모달 노출
                · 탈퇴요청 상태 : '탈퇴 대기 중인 사용자입니다, 계정을 복구하겠습니까?'
                · 휴먼 상태 : '휴먼 계정입니다. 계정을 복구하겠습니까?'
            3) 위 모달에 사용자가 동의 시, 즉시 활성화 상태로 복구
        - 복구된 계정은 기존 데이터를 그대로 이용할 수 있다.
    

### 2-4. 사용자 계정 복구

    a. 사용자는 아래 두가지 상황에서 복구요청을 할 수 있다.
        - 휴먼상태
        - 탈퇴요청

### 2-5. 마이데이터 연동
    
    a. 사용자는 로그인 이후 선택적으로 마이데이터 연동을 수행할 수 있으며, 연동 및 연동 해제는 언제든 가능하다.
    ※ 마이데이터 연동은 실제 금융 API 연동을 가정한 UX로만 설계되며, 개인 프로젝트 특성상 실제 API 호출은 구현하지 않는다.
    ※ 연동 여부(boolean)는 JWT에 포함된다.

    b. 연동 해제 시 이후 금융 데이터는 더 이상 수집되지 않으며, 이미 수집된 자산 및 거래 데이터는 삭제하지 않고 유지/조회된다.
    
    c. 연동 해제 상태에서 연동 이력에 따라 사용자에게 보여지는 문구는 아래와 같다
        - 신규 연동: "자산 연동하기"
        - 연동 해제 상태: "자동 갱신이 중단된 계좌입니다", "다시 연동하기"


## 3. **자산 - 은행계좌 및 현금** 
***
### 3-1. 자산의 종류
    
    a. 은행 계좌·증권 계좌·현금·신용카드가 포함된다.

### 3-2. 자산 보유 방식

    a. 사용자와 자산은 1:N 으로 구성된다.

    b. 현금 자산은 사용자가 직접 추가/삭제/수정한다.

    c. 현금 외 자산(은행/증권)은 조회 전용이며 사용자가 임의 수정할 수 없다.

### 3-3. 자산 동기화

    a. 자산 동기화 기능은 외부 금융 API 연동을 전제로 설계된다.
    
    b. 사용자가 "새로고침"을 요청시, 외부 연동 자산 데이터가 갱신화된다.
    ※ 개인 프로젝트에서는 실제 금융 API 대신 더미 데이터(Mock Data)를 사용하여 동기화 흐름을 구현함


## 4. 자산 공통 - 간편조회(홈 대시보드)

    a. 사용자는 홈 화면에서 아래 데이터를 한 번에 확인할 수 있어야 한다.

    b. 은행 계좌 정보
        - 최근 입출금 5건
        - 예금·적금·대출 잔액

    c. 지출 관련 지표
        - 월 소득 대비 지출 비율
        - 사용자가 설정한 목표 지출 대비 현재 진행률

    d. 월별 리포트 요약 정보
        - 주요 지출/수입/투자 요약

    e. 사용자가 보유한 주식 관련 최신 뉴스 5건    

## 5. 자산 - 은행계좌 및 현금
***
### 5-1. 사용자는 자산 흐름을 시각적으로 파악할 수 있다. 
    - 소비성지출분석(5-2)
    - 자산흐름 캘린더(5-3)

#### 5-2. 소비성지출분석

    a. 사용자는 월별 지출 건을 테이블표로 확인할 수 있다.

    b. 소비성 지출 : 고정지출 + 변동지출

    c. 테이블 구조
        행 : 지출계/예산/예산대비/전월지출/전월대비
        열 : 지출 카테고리 
            (주거비, 식비, 경조사회비, 의료비, 문화생활비, 생활용품비, 통신비, 
             교육비, 용돈, 유류교통비, 반려동물비, 의류미용비, 추가항목)

    d. 카테고리 별 지출계와 카테고리 별 예산액은 파이차트로 확인할 수 있다. 

    e. 거래리스트(5-5) 기능 지원 
        - 테이블 표의 '카테고리 명'나 파이차트의 '카테고리 명'을 클릭하면 거래 리스트를 확인할 수 있다.
        - 클릭 시, 소비성 지출 테이블과 파이차트 영역이 좁아진다(2분할 → 3분할)
            · 클릭 전(2분할) : 좌측 '소비성 지출 테이블' 우측 '파이차트 영역' 배치
            · 클릭 후(3분할) : 좌측 상 '소비성 지출 테이블' 좌측 하단 '파이차트 영역' 배치, 우측 '5-5.거래리스트' 배치

#### 5-3. 자산흐름 캘린더
    a. 캘린더 형태로 사용자의 일별 (수입 – 지출) 차액을 표시한다.
      - 소득 > 지출 : 날짜와 차액을 초록색으로 표기
      - 소득 < 지출 : 날짜와 차액을 빨간색으로 표기
      - 소득 = 지출 : 날짜와 차액을 파란색으로 표기
      - 소득, 지출 無 : 미기록 상태로, 기본색 유지
    
    b. 월 단위로 조회되며, 이전 달/다음달 & 1년 전/1년 후로 이동할 수 있다. 
        - 최소 : 2020년 1월 1일
        - 최대 : 오늘 월
    
    c. 거래 카테고리 필터 기능을 제공한다.
        - 필터 : 전체/식비/교통/주거/저축/보험/기타 
        - 필터 적용 시, 일별 차액계가 재계산되어 표시된다.
    
    d. 캘린더의 하단 구성은 아래와 같다.
        - 월 수입/월 지출/합계가 표시
        - 해당 월의 월별 리포트(5) 이동 버튼
    
    e. 거래리스트(5-5) 기능 지원 
        - 날짜 셀을 클릭하면 해당 날짜의 거래 내역(수입/지출) 리스트를 확인할 수 있어야한다.
        - 날짜 셀 클릭 시, 화면이 2등분되며 캘린더의 영역이 좁아진다(1분할 → 2분할)
          - 클릭 전(1분할) : 캘린더
          - 클릭 후(2분할) : 좌측 기존 '캘린더', 우측 '5-5.거래리스트' 
    
    f. 데이터는 최신 동기화 결과를 기반으로 자동 갱신되며, 사용자가 "새로고침"시 즉시 반영된다.


### 5-4. 사용자는 시각화된 항목에서 세부 거래내역을 조회할 수 있다.
    - 거래리스트(5-5), 거래 상세보기(5-6)

#### 5-5. 거래리스트

    a. 사용자는 원하는 분류의 거래를 다음 두 화면에서 확인할 수 있으며 필터 기본값은 아래와 같다.
        - 5-1. 소비성 지출 테이블
            · 사용자가 선택한 카테고리 & 월
        - 5-1. 자산흐름 캘린더
            · 사용자가 선택한 날짜의 거래 내역

    b. 구조
        - 거래 리스트 상단에 "~월의 (카테고리) 거래 리스트" 타이틀로 설정된다.
        - 거래 리스트는 해당 월을 기준으로 다음 내용이 출력된다.        
            · 거래 날짜 (오름차순) 
            · 금액
            · 카테고리
            · 거래처 (검색 가능)
            · 사용자메모 (검색 가능)
            · 거래 유형(수입/지출)

    c. 4-3(소비성 지출 테이블)의 검색 기능
        - 거래처
        - 사용자 메모

    d. 4-4(지출/수입 캘린더)의 검색/필터 기능
        - 거래처 (검색)
        - 사용자 메모 (검색)
        - 카테고리  (필터)

    f. 검색/필터 초기화 기능
        - '필터 초기화' 클릭시 모든 검색/필터 조건 기본값으로 돌아간다.
        - 사용자가 새로고침시 모든 검색/필터 조건이 기본값으로 돌아간다.

    g. 거래 건을 클릭하면 거래내역 상세보기(5-6)로 이동한다.

#### 5-6. 거래내역 상세보기

    a. 사용자는 특정날짜, 특정 거래를 선택하여 해당 거래의 상세 정보를 확인할 수 있다.

    b. 거래에 대해 다음 정보가 조회된다.
        - 거래 유형 (수입/지출)
        - 날짜 및 시간
        - 금액
        - 카테고리
        - 거래처 (가맹점)
        - 거래 출처 (은행 계좌 / 증권 계좌 / 현금)
        - API 연동 계좌 여부
        - 사용자 메모(파일 첨부 포함)

    c. 상세보기 화면 우측 하단에 '수정(5-8)'버튼이 활성화되어 있다. 

    d. 상세보기 화면 우측 하단에 '삭제(5-9)'버튼이 사용자가 직접관리하는 거래내역일 시 활성화된다.

### 5-7. 거래 생성

    a. 사용자는 현금자산에 대해 새로운 거래내역을 생성할 수 있다.

    b. 거래 생성 폼에는 다음 항목을 입력할 수 있다.
        - 거래 유형 (수입/지출)
        - 거래 금액
        - 거래 날짜 
        - 거래 시간 (선택)
        - 카테고리
        - 자산 출처 선택(현금 / 특정 수동 계좌)
        - 거래처 또는 메모 입력
        - 첨부파일 (선택)

    c. 사용자는 원하는 카테고리가 없거나, 사용하지 않는 카테고리가 있을 시 이를 생성/숨기기 할 수 있다.

    d. 금액 입력 시 양수의 숫자만 입력가능하며, 천단위 콤마 자동 적용 기능을 제공

    e. 거래 날짜 선택은 캘린터 피커 형태로 제공한다.

    f. 생성된 거래는 즉시 거래 내역에 반영되어야 한다.

    g. API 연동 대상 계좌는 자산 출처에서 비활성화된다.

### 5-8. 거래 수정

    a. 사용자는 현금자산에 대해 거래내역을 수정할 수 있다.

    b. 사용자가 직접 등록한 거래일 경우 사용자는 거래에 대해 아래 기능을 할 수 있다.
        - 거래 유형 (수입/지출)
        - 거래 금액
        - 거래 날짜 
        - 거래 시간 (선택)
        - 카테고리
        - 자산 출처 선택(현금 / 특정 수동 계좌)
        - 거래처 또는 메모 입력
        - 첨부파일 (선택)

    c. 사용자는 API 연동 대상 거래 내역에 대해 제한적으로 거래내역을 수정할 수 있다.

    d. API 연동 거래인 경우
        - 카테고리 수정 : 향 후 동일 패턴 거래에도 자동 적용할 지 여부를 선택할 수 있다.
        - 메모 추가/수정/삭제

    e. 사용자는 원하는 카테고리가 없거나, 사용하지 않는 카테고리가 있을 시 이를 생성/숨기기 할 수 있다.

    f. 금액 입력 시 양수의 숫자만 입력가능하며, 천단위 콤마 자동 적용 기능을 제공

    g. 거래 날짜 선택은 캘린터 피커 형태로 제공한다.

    h. 생성된 거래는 즉시 거래 내역에 반영되어야 한다.

    i. API 연동 대상 계좌는 자산 출처에서 비활성화된다.

### 5-9. 거래 삭제

    a. 사용자는 현금자산에 대해서만 거래내역을 삭제할 수 있다.

    b. 삭제 요청 시, 경고창을 띄운다 
        - 경고창 : "정말 삭제하시겠습니까? 삭제된 거래는 복구할 수 없습니다"
    
    c. 삭제된 데이터는 즉시 삭제되며 즉시 거래 내역에 반영되어야 한다.

    d. 삭제 로그는 "삭제 요청" 후 90일 뒤에 영구 삭제 된다. 

### 5-10. 월 단위 예산 설정

    a. 월 단위 예산은 과거 소비패턴을 이용하여 자동으로 기입된다.

    b. 사용자는 예산을 수정할 수 있다.

    c. 과거 소비패턴 근거 데이터가 없을 시, 사용자가 직접 설정할 수 있다.

    d. 예산이 설정되면, 총 월 단위 목표 지출률 설정이 된다.

### 5-11. 월 단위 목표 지출률 설정

    a. 월 단위 예산이 생성/수정이 되었을때 마다 갱신된다.


## 6. 자산 – 증권 계좌(투자)
***
### 6-1. 사용자는 아래 기능으로 투자현황을 시각적으로 확인할 수 있다.
    a. 투자 요약
    b. 보유 종목 테이블
    c. 종목 상세보기
    d. AI 기반 투자 뉴스 요약

### 6-2. 투자 요약
    a. 사용자는 증권계좌의 전체 투자 상태를 한 화면에서 확인할 수 있다. 

    b. 요약정보 -
        - 총 투자금액 
        - 총 평가금액
        - 총 손익 금액
        - 전체 수익률(%)
        - 일간 손익
        - 전일 대비 증감률

    c. 계좌정보
        - 연동된 증권계좌 목록
        - 계좌별 평가금액

### 6-3. 보유 종목 테이블
    a. 사용자는 보유 중인 종목을 테이블 형태로 확인할 수 있다.
    
    b. 종목 테이블 정보
        - 종목명
        - 보유 수량
        - 평균 매입가
        - 현재가  
        - 평가금액
        - 손익 금액
        - 수익률(%)

    c. 수익률순, 평가금액순, 종목명순(가나다라순)으로 오름차순/내림차순 정렬

    d. 종목 선택 시 종목 상세보기(6-4)로 이동한다.

### 6-4. 종목 상세보기
    a. 사용자는 특정 종목에 대한 상세 보기를 확인할 수 있다.

    b. 종목 상세보기 – 기본 종목 정보
        - 종목명
        - 종목코드
        - 시장 구분 (코스피 / 코스닥 / 해외 등)
        - 산업군

    c. 종목 상세보기 - 보유 관련 정보
        - 보유 수량
        - 평균 매입가
        - 현재가
        - 평가 손익
        - 수익률(%)
        - 사용자 메모

    d. 종목 상세보기 - 가격 및 변동 정보
        - 가격변동그래프 
            · 1일, 1주, 1달, 1년, 5년 기준
            ※ 가격변동 그래프 : 시각적 추세 파악이 목적이므로 업데이트 시간 고려필요(미정)
        - 주요 통계 지표
            · 금일 변동 금액
            · 금일 변동률
            ·  52주 최고가 / 최저가
     
    e. 종목 상세보기 - 종목 관련 뉴스 목록(6-5 연계)
        - 종목 관련 최신 뉴스 목록 제공(5개)
        - 뉴스 항목 정보
            · 제목
            · 출처
            · 게시일
        - 뉴스 제목 클릭 시 5-5 투자 뉴스 상세 화면으로 이동한다.

### 6-5. 투자 뉴스 크롤링
    a. 사용자는 보유 종목 및 시장 흐름과 관련된 투자 뉴스를 확인할 수 있다.

    b. 수집 기준
        - 보유 종목명
        - 종목코드
        - 산업군 키워드
    
    c. 뉴스 제공 정보
        - 종목별 최신 뉴스 목록
        - 기사 제목
        - 출처
        - 게시일
        - 원문 링크

    e. AI 뉴스 요약 정보 
        - 최근 이슈 요약
        - 단기 변동성 관련 요약


## 7. 월별리포트
***
### 7-1. 월별리포트

    a. 월별 리포트는 특정 월의 재무 활동을 회고·정리하기 위한 보고서이다.
    b. 월별 리포트는 과거 데이터를 기준으로 생성되며, 생성 이후 내용이 변경되지 않는다.

### 7-2. 리포트 제공 형태

    a. 월별 리포트는 PDF 형태로 다운로드 가능해야한다. 
    b. PDF에는 기간, 사용자명, 생성일 등 메타정보가 포함되어야한다.
    c. 시각적으로 확인할 수 있도록 한다.

### 7-3. 구성요소

    a. 총 수입
        : 해당 월 총 수입
        : 전월 대비 증감률

    b. 총 지출
        : 소비성 지출(고정지출/변동지출)
        : 저축성 지출
        : 지출 별 간략 분석 (고정 / 변동 / 저축성 지출)
        : 변동지출 상세 분석 

    c. 사용자 맞춤 수입/지출 분석
        : 유동자산과 사용자가 설정한 월 지출 목표를 비교하여 종합 조언 제공
        : 평소 대비 특정 지출 카테고리 급증 또는 비정상 지출 발생 시 “분석 요인”에 상세 기록

    d. 자산 증감 분석
        : 총 자산 변화 금액
        : 자산군별 증감률

    e. 보유 투자 종목 수익률 분석
        : 월간 수익률
        : 관련된 최신 기사 제목 리스트 및 링크
        
## 8. 자산 관리 포트폴리오
***

### 8-1. 자산관리 포트폴리오
    a. 자산관리 포트폴리오는 사용자가 보유한 모든 자산을 통합하여 
       자산 구성, 비중, 변화 추이를 한눈에 확인할 수 있는 기능이다.

### 8-2. 포트폴리오 제공 형태
    a. 전체 자산 요약(8-3)
    b. 자산 구성 비중 분석(8-4)
    c. 자산 변화 추이 분석(8-5)

### 8-3. 전체 자산 요약
    a. 포트폴리오 상단에서 다음 정보를 확인할 수 있다. 
        - 총 자산 금액
          ※ 총 자산에는 '은행계좌', '현금', '증권 계좌 평가금액'이 포함된다
        - 총 부채 금액
        - 순자산 금액
        - 전월 대비 자산 증감 금액
        - 전원 대비 자산 증감률

### 8-4. 자산 구성 비중 분석
    a. 사용자는 자산 구성 비율을 차트형태로 시각적으로 확인할 수 있다.
        - 현금
        - 은행 예금/적금
        - 증권

    b. 특정 자산 유형을 클릭하면 각 자산의 상세화면으로 넘어간다
        - 증권 → 6-2. 투자요약
        - 현금 및 은행 계좌 → 5-3. 자산흐름 캘린더

### 8-5. 자산 변화 추이 분석

    a. 사용자는 기간별 자산 변화를 확인할 수 있다.

    b. 조회 기간
        - 1개월
        - 3개월
        - 6개월
        - 1년

    b. 제공 정보
        - 기간별 총 자산 변화 그래프
        - 자산 유형별 증감 금액
        - 자산 증감 주요 원인 요약
            · 지출 증가
            · 투자 수익/손실
            · 대출 변동 등

## 9. 알림
***
### 9-1. 다음 조건 발생 시 사용자에게 알림을 제공한다
    a. 예산 초과
    b. 비정상 지출 감지
    c. 투자 종목 급등/급락

### 9-2. 알림 방법
    a. 우측상단에 종모양이 있으며, 해당 종아이콘을 누르면 알림 내역이 뜬다
    b. 알림이 있을 경우 종모양에 알림 수를 표기한다
    c. 모든 알림을 확인하였으면, 알림 수는 없어진다.
    d. 알림 히스토리는 90뒤에 삭제 되며, 사용자가 직접 제거할 수도 있다
    e. 사용자가 동의한 경우 이메일로 알림내용이 발송된다.

## 10. 카테고리
***
### 10-1. 사용자는 아래 화면에서 카테고리를 직접 생성·수정·숨기기 할 수 있다.
    a. 거래 생성(5-7)
    b. 거래 수정(5-8)

### 10-2. 숨기기된 카테고리는 거래 등록/수정 시 선택 불가 처리된다.

### 10-3. 카테고리 순서를 사용자가 직접 조정할 수 있다.


# MyAsset 비기능 요구사항(NFR)

## 1. 로그관리
***

### 1-1. 정책요약

    a. 모든 로그는 개인정보와 자산정보를 포함하지 않으며, 활동 로그만 저장한다.

    b. 모든 로그는 내부 식별자를 기준으로 저장한다.

    d. 로그는 장애 대응 및 보안 문제 해결을 위한 용도로만 사용한다.

    e. 모든 로그는 클라우드에 자동 백업/삭제 된다.

    f. 로그 보관 기간은 아래 기준으로 잡는다.
        - 개인 정보 포함 로그 : 30일
        - 개인정보 제외 활동 로그(내부식별자 기반) : 90일

### 1-2. 로그 유형

    a. 로그 유형은 다음과 같다.
        - 사용자 : 휴먼, 탈퇴요청, 탈퇴, 복구
        - 거래 : 수정, 삭제
        - API 연동 : 요청, 동기화, 만료
        - 카테고리 : 생성, 수정, 삭제

### 1-3. 사용자 관련 로그
    
    a. 로그유형은 "사용자"
    b. 로그 상세유형은 아래와 같다
        - 휴먼전환, 탈퇴요청, 탈퇴, 복구
    c. 아래상황을 제외하고 로그는 영구 보존된다.
        - 사용자가 탈퇴 요청 후 90일이 경과하면 해당 사용자의 모든 사용자 로그는 영구 삭제된다.

|  구분  | 로그                                              | 비고                                |
|:----:|-------------------------------------------------|-----------------------------------|
|  공통  | `사용자내부식별자` `로그유형` `요청ID` `로그상세유형` `실행시간` `요청결과` | `요청결과` : 성공/실패/부분성공 `요청ID` : UUID |
| 탈퇴요청 | -                                               |                                   |
|  탈퇴  | -                                               |                                   |
| 휴먼전환 | -                                               |                                   |
|  복구  | `복구방법`                                          | `복구방법` : 사용자인증, 관리자 승인            |

### 1-4. 거래 관련 로그

    a. 로그유형은 "거래"
    b. 로그 상세 유형은 다음과 같다
        - 거래 생성, 거래 수정, 거래 삭제
    c. 아래상황을 제외하고 로그는 영구 보존된다.
        - 사용자의 탈퇴 요청 후 30일이 경과하면 해당 사용자에 대한 모든 거래 로그는 영구 삭제된다.

| 구분 | 로그                                                                    | 비고                      |
|:--:|-----------------------------------------------------------------------|-------------------------|
| 공통 | `거래내부식별자` `사용자내부식별자` `요청ID` `로그유형` `로그상세유형` `실행시간` `API대상여부`   `요청결과` | `요청결과` : 성공/실패/부분성공 `요청ID` : UUID    |
| 생성 | -                                                                     |                         |
| 수정 | `변경필드`                                                                |                         |
| 삭제 | `삭제사유`                                                                | `삭제사유` : 사용자요청, 사용자탈퇴 등 |

### 1-5. API 연동 및 동기화 로그

    a. 로그유형은 "API"
    b. 로그 상세 유형은 다음과 같다. 
        - 연동요청, 동기화, 만료
    c. 아래 상황을 제외하고 로그는 영구 보존된다.
        - 사용자의 탈퇴 요청 후 30일이 경과하면 해당 사용자에 대한 모든 API 연동 및 동기화 로그는 영구 삭제된다.

    
|  구분  | 로그                                                            | 비고                          |
|:----:|---------------------------------------------------------------|-----------------------------|
|  공통  | `기관코드` `사용자내부식별자` `요청ID` `로그유형` `로그상세유형` `실행시간` `오류코드` `요청결과` | `요청결과` : 성공/실패/부분성공  `요청ID` : UUID       | 
| 연동요청 | `건수`                                                          | `건수` : 연동요청 시 사용자 선택 계좌 수 등 |
| 동기화  | `신규건수` `갱신건수` `실패건수` `변경필드`                                   |                             |
|  만료  | `만료사유`                                                        | `만료사유` : 토큰만료, 인증오류         |


### 1-6. 투자 뉴스 및 Ai 요약

    a. 로그유형은 "투자뉴스"
    b. 로그 상세유형은 다음과 같다.
        - 뉴스 수집, 뉴스 요약 생성 여부
    c. 아래 상황에서 관련 로그가 삭제된다.
        - 뉴스 수집 및 요약 정보 생성 후 30일이 경과하면 해당 뉴스 대한 모든 수집/요약 로그는 영구 삭제된다.

| 구분 | 로그                                                        | 비고                                |
|:--:|-----------------------------------------------------------|-----------------------------------|
| 공통 | `사용자내부식별자` `요청ID` `로그유형` `로그상세유형` `실행시간` `뉴스내부식별자` `요청결과` | `요청결과` : 성공/실패/부분성공 `요청ID` : UUID |
| 수집 | `건수`  `수집실패`                                              | `건수` : 뉴스크롤링 수집건수                 |
| 요약 | `요약방식`                                                    | `요약방식` : AI 요약 여부                 |


## 2. 첨부파일

### 2-1. 허용 파일 형식
    a. 확장자
        · jpg, jpeg, png, webp
    
    b. 용량 
        · 파일 1개당 최대 용량은 10MB이며, 거래 건당 첨부파일은 최대 5개까지 업로드할 수 있다.

### 2-2. 보관
    a. 보관 기간 
        · 첨부파일은 해당 거래가 존재하는 동안 보관된다.

### 2-3. 삭제
    a. 삭제 시점
        · 사용자 탈퇴 정책에 따라 거래 데이터가 삭제되는 시점에 첨부파일도 영구 삭제된다.
        · 사용자의 요청으로 개별 첨부파일을 영구 삭제할 수 있다.
        · 사용자가 해당 거래를 삭제하면 첨부파일도 같이 삭제된다.
        · 삭제된 첨부파일은 복구할 수 없다.

    b. 서버저장 및 검증
        · 업로드된 파일은 서버에서 임의의 식별자로 변환하여 저장한다
        · 업로드 시 확장자 및 MIME 타입 검증을 수행한다.